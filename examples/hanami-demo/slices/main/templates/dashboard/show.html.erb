<h2>Protected Dashboard</h2>

<div class="flash notice">
  <p>This page requires authentication!</p>
</div>

<p>
  You are logged in with account ID: <strong><%= account_id %></strong>
</p>

<h3>What You Can Do</h3>
<ul>
  <li><a href="/change-password">Change your password</a></li>
  <li><a href="/change-login">Change your email address</a></li>
  <li><a href="/close-account">Close your account</a></li>
  <li><a href="/logout">Logout</a></li>
</ul>

<h3>How This Works</h3>
<p>
  This page is protected by calling <code>rodauth.require_account</code> in the
  action. If you're not logged in, you'll be redirected to the login page.
</p>

<p>
  The action code:
</p>

<pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; overflow-x: auto;">
module Main
  module Actions
    module Dashboard
      class Show &lt; Main::Action
        include Deps["rodauth"]

        def handle(request, response)
          # Require authentication for dashboard access
          rodauth.require_account

          response.render(view, account_id: rodauth.account_id)
        end
      end
    end
  end
end
</pre>

<p>
  <a href="/" class="button">Back to Home</a>
</p>
